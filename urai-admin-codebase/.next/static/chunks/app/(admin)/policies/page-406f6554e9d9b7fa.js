(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8],{8354:function(e,n,s){Promise.resolve().then(s.bind(s,9245))},9245:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return g}});var t=s(7437),i=s(2265),o=s(9064),d=s(141),l=s(5978),a=s(738),r=s(3301),c=s(5434);let u=(0,a.ZF)({apiKey:"your-api-key",authDomain:"your-auth-domain",projectId:"your-project-id",storageBucket:"your-storage-bucket",messagingSenderId:"your-messaging-sender-id",appId:"your-app-id"}),m=(0,l.ad)(u);(0,r.v0)(u),(0,c.$C)(u),new r.hJ;var g=()=>{let[e,n,s]=(0,d.Kx)((0,l.hJ)(m,"policies")),[a,r]=(0,i.useState)({name:"",content:""}),[c,u]=(0,i.useState)(null),g=async e=>{e.preventDefault(),await (0,l.ET)((0,l.hJ)(m,"policies"),a),r({name:"",content:""}),o.ZP.success("Policy created successfully!")},x=async e=>{if(e.preventDefault(),!c)return;let n=(0,l.JU)(m,"policies",c.id);await (0,l.r7)(n,{name:c.name,content:c.content}),u(null),o.ZP.success("Policy updated successfully!")},f=async e=>{await (0,l.oe)((0,l.JU)(m,"policies",e)),o.ZP.success("Policy deleted successfully!")};return(0,t.jsxs)("div",{className:"p-4 md:p-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Policy Manager"}),(0,t.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-md mb-8",children:c?(0,t.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Edit Policy"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"editing-name",className:"block text-sm font-medium text-gray-700",children:"Policy Name"}),(0,t.jsx)("input",{id:"editing-name",type:"text",placeholder:"Policy Name",value:c.name,onChange:e=>{c&&u({...c,name:e.target.value})},className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"editing-content",className:"block text-sm font-medium text-gray-700",children:"Policy Content"}),(0,t.jsx)("textarea",{id:"editing-content",placeholder:"Policy Content",value:c.content,onChange:e=>{c&&u({...c,content:e.target.value})},className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("button",{type:"submit",disabled:n,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:n?"Updating...":"Update Policy"}),(0,t.jsx)("button",{onClick:()=>u(null),disabled:n,className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:"Cancel"})]})]}):(0,t.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Create Policy"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"new-name",className:"block text-sm font-medium text-gray-700",children:"Policy Name"}),(0,t.jsx)("input",{id:"new-name",type:"text",placeholder:"Policy Name",value:a.name,onChange:e=>r({...a,name:e.target.value}),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"new-content",className:"block text-sm font-medium text-gray-700",children:"Policy Content"}),(0,t.jsx)("textarea",{id:"new-content",placeholder:"Policy Content",value:a.content,onChange:e=>r({...a,content:e.target.value}),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,t.jsx)("button",{type:"submit",disabled:n,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:n?"Creating...":"Create Policy"})]})}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Existing Policies"}),s&&(0,t.jsxs)("p",{className:"text-red-500",children:["Error: ",JSON.stringify(s)]}),n&&(0,t.jsx)("p",{children:"Loading..."}),e&&(0,t.jsx)("ul",{className:"space-y-4",children:e.docs.map(e=>{let s=e.data(),i={id:e.id,...s};return(0,t.jsxs)("li",{className:"p-4 bg-gray-50 rounded-lg flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:i.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:i.content})]}),(0,t.jsxs)("div",{className:"space-x-2",children:[(0,t.jsx)("button",{onClick:()=>u(i),disabled:n,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-yellow-500 hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 disabled:opacity-50",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>f(i.id),disabled:n,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:n?"Deleting...":"Delete"})]})]},i.id)})})]})]})}}},function(e){e.O(0,[139,358,64,831,971,117,744],function(){return e(e.s=8354)}),_N_E=e.O()}]);